var barry=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(null,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.e=function(t,r){r.call(null,e)},e.modules=t,e.cache=r,e(0)}({c:"",0:function(t,e,r){var n=t.exports=r(1).Barry;if(angular){var i=angular.module("barry",[]);i.provider("$barry",function(){var t="/";this.setDefaultEndpoint=function(e){t=e},this.$get=function(){return n.endpoint(t)}}),n.Consumer.prototype.toScope=function(t,e){function r(){t.$barry=t.$barry||{},t.$barry[e]={url:n.url,loaded:n.loaded}}var n=this;return n.init(),n.on("update",function(n){function i(){t[e]=n,r()}t.$$phase?i():t.$apply(i)}),n.on("beforeload",function(){r()}),t.$on("$destroy",function(){n.unsubscribe()}),this}}},1:function(t,e,r){var n=r(2).global,i=r(3),o=r(4).Endpoint,s=r(5).Consumer,u=n;u.endpoint=function(t,e){if(!e&&(e=t,t=i.getDefaultTransport(),!t))throw new Error("Barry.endpoint: No transports available");if("string"==typeof t&&(t=i.getTransport(t)),!t)throw new Error("Barry.endpoint: Invalid transport");return new o(new t(e))},r(6),u.transports=i,u.Endpoint=o,u.Consumer=s,e.Barry=u},2:function(t,e){var r=function(){};e.global=r.prototype,e.Namespace=r},3:function(t){var e=t.exports={transports:[],transportsByName:{},registerTransport:function(t){e.transports.push(t),e.transportsByName[t.name]=t},getDefaultTransport:function(){return e.transports[0]||!1},getTransport:function(t){return e.transportsByName[t]||!1}}},4:function(t,e,r){var n=r(5).Consumer,i=r(9),o=function(t){var e=this;this.transport=t,this.consumers={},this.callbacks=[],this.subscribers=[],this.subscribersByUrl={},this.uniqueId=0,t.on("barry",function(t){("number"==typeof t.id||"function"==typeof e.callbacks[t.id])&&e.callbacks[t.id](t.error,t.result),"update"===t.method&&e.delegateUpdate(t.params.shift(),t.params)})};o.prototype.emit=function(){var t=Array.prototype.slice.call(arguments);this.transport.emit.apply(this.transport,t)},o.prototype.call=function(t,e){var r={jsonrpc:"2.0"};i(r,t),"function"==typeof e&&(r.id=this.callbacks.length,this.callbacks.push(e)),this.transport.emit("barry",r)},o.prototype.subscribe=function(t,e,r){var n=this.uniqueId++;this.subscribers[n]=e,this.subscribersByUrl[t]=n,this.call({method:"subscribe",url:t,subId:n},r)},o.prototype.unsubscribe=function(t,e,r){var n=this.subscribersByUrl[t];this.call({method:"unsubscribe",url:t,subId:n},r)},o.prototype.delegateUpdate=function(t,e){var r=this.subscribers[t];"function"==typeof r?r(e):this.call({method:"unsubscribe",subId:t})},o.prototype.consumer=function(t){var e=this.consumers[t]=new n(this,t);return e},e.Endpoint=o},5:function(t,e,r){var n=r(7),i=r(8),o=function(t,e){n.EventEmitter.call(this),this.endpoint=t,this.url=e,this.model=null,this.loaded=!1,this.loading=!1,this.current=!1};i.inherits(o,n.EventEmitter),o.prototype.init=function(t){this.subscribe(),this.load(t)},o.prototype.subscribe=function(){var t=this;this.url&&this.endpoint.subscribe(this.url,function(e){e.forEach(function(e){t.apply(e)})})},o.prototype.unsubscribe=function(){this.url&&this.endpoint.unsubscribe(this.url)},o.prototype.load=function(t){var e=this;"function"!=typeof t&&(t=function(){}),this.url&&(this.loading=!0,this.emit("beforeload"),this.endpoint.call({method:"load",url:this.url},function(r,n){r?t(r):(e.loading=!1,e.loaded=!0,e.current=!0,e.model=n,e.emit("update",n),t(null,n))}))},o.prototype.apply=function(t){var e=!1;switch(t.op){case"set":this.model!==t.v&&(e=!0),this.model=t.v;break;case"assign":for(var r in t.v)this.model[r]!==t.v[r]&&(this.model[r]=t.v[r],e=!0)}e&&this.emit("update",this.model)},o.prototype.setUrl=function(t){var e=this;t!==this.url&&(this.unsubscribe(),this.url=t,t||(this.model=""),this.current=!1,e.emit("update","")),this.init()},e.Consumer=o},6:function(t,e,r){if("undefined"!=typeof io){var n=function(t){this.ep=t,this.socket=io.connect(t)};n.prototype.on=function(t,e){return this.socket.on(t,e)},n.prototype.emit=function(t,e){return this.socket.emit(t,e)},r(3).registerTransport(n)}},7:function(t,e,r){var n=e.EventEmitter=function(){},i=r(10);r(11);var o=10;n.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._maxListeners=t},n.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(i(e)){for(var r=Array.prototype.slice.call(arguments,1),n=e.slice(),o=0,s=n.length;s>o;o++)n[o].apply(this,r);return!0}return!1},n.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned){var r;r=void 0!==this._maxListeners?this._maxListeners:o,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(events) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){n.removeListener(t,r),e.apply(this,arguments)}if("function"!=typeof e)throw new Error(".once only takes instances of Function");var n=this;return r.listener=e,n.on(t,r),this},n.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(i(r)){for(var n=-1,o=0,s=r.length;s>o;o++)if(r[o]===e||r[o].listener&&r[o].listener===e){n=o;break}if(0>n)return this;r.splice(n,1),0==r.length&&delete this._events[t]}else(r===e||r.listener&&r.listener===e)&&delete this._events[t];return this},n.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},n.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}},8:function(t,e,r){function n(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&s(Date.prototype),r=t.__proto__&&s(t.__proto__);return JSON.stringify(r)===JSON.stringify(e)}r(7);var i=r(10),o=r(12),s=r(13),u=r(14),a=r(15);e.isArray=i,e.isDate=n,e.isRegExp=a,e.print=function(){},e.puts=function(){},e.debug=function(){},e.inspect=function(t,r,u,c){function p(t,u){if(t&&"function"==typeof t.inspect&&t!==e&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return f("undefined","undefined");case"string":var c="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(c,"string");case"number":return f(""+t,"number");case"boolean":return f(""+t,"boolean")}if(null===t)return f("null","null");var h=o(t),y=r?s(t):h;if("function"==typeof t&&0===y.length){if(a(t))return f(""+t,"regexp");var d=t.name?": "+t.name:"";return f("[Function"+d+"]","special")}if(n(t)&&0===y.length)return f(t.toUTCString(),"date");var v,b,m;if(i(t)?(b="Array",m=["[","]"]):(b="Object",m=["{","}"]),"function"==typeof t){var g=t.name?": "+t.name:"";v=a(t)?" "+t:" [Function"+g+"]"}else v="";if(n(t)&&(v=" "+t.toUTCString()),0===y.length)return m[0]+v+m[1];if(0>u)return a(t)?f(""+t,"regexp"):f("[Object]","special");l.push(t);var _=y.map(function(e){var r,n;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?n=t.__lookupSetter__(e)?f("[Getter/Setter]","special"):f("[Getter]","special"):t.__lookupSetter__(e)&&(n=f("[Setter]","special"))),h.indexOf(e)<0&&(r="["+e+"]"),n||(l.indexOf(t[e])<0?(n=null===u?p(t[e]):p(t[e],u-1),n.indexOf("\n")>-1&&(n=i(t)?n.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+n.split("\n").map(function(t){return"   "+t}).join("\n"))):n=f("[Circular]","special")),"undefined"==typeof r){if("Array"===b&&e.match(/^\d+$/))return n;r=JSON.stringify(""+e),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=f(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=f(r,"string"))}return r+": "+n});l.pop();var w=0,j=_.reduce(function(t,e){return w++,e.indexOf("\n")>=0&&w++,t+e.length+1},0);return _=j>50?m[0]+(""===v?"":v+"\n ")+" "+_.join(",\n  ")+" "+m[1]:m[0]+v+" "+_.join(", ")+" "+m[1]}var l=[],f=function(t,e){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return n?"["+r[n][0]+"m"+t+"["+r[n][1]+"m":t};return c||(f=function(t){return t}),p(t,"undefined"==typeof u?2:u)},e.log=function(){},e.pump=null,e.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;e.format=function(t){if("string"!=typeof t){for(var r=[],n=0;n<arguments.length;n++)r.push(e.inspect(arguments[n]));return r.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(c,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":return JSON.stringify(i[n++]);default:return t}}),u=i[n];o>n;u=i[++n])s+=null===u||"object"!=typeof u?" "+u:" "+e.inspect(u);return s}},9:function(t){function e(t){if(!t||"[object Object]"!==toString.call(t)||t.nodeType||t.setInterval)return!1;var e=hasOwnProperty.call(t,"constructor"),n=hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!n)return!1;var i;for(i in t);return void 0===i||r.call(t,i)}var r=Object.prototype.hasOwnProperty;t.exports=function n(){var t,r,i,o,s,u,a=arguments[0]||{},c=1,p=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"!=typeof a&&"function"!=typeof a&&(a={});p>c;c++)if(null!=(t=arguments[c]))for(r in t)i=a[r],o=t[r],a!==o&&(l&&o&&(e(o)||(s=Array.isArray(o)))?(s?(s=!1,u=i&&Array.isArray(i)?i:[]):u=i&&e(i)?i:{},a[r]=n(l,u,o)):void 0!==o&&(a[r]=o));return a}},10:function(t){t.exports="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},11:function(t){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}},12:function(t){t.exports=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},13:function(t){t.exports=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.hasOwnProperty.call(t,r)&&e.push(r);return e}},14:function(t){t.exports=Object.create||function(t,e){var r;if(null===t)r={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,r=new n,r.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(r,e),r}},15:function(t){t.exports=function(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}}});